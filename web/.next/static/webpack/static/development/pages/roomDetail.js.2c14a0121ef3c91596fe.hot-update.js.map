{"version":3,"file":"static/webpack/static/development/pages/roomDetail.js.2c14a0121ef3c91596fe.hot-update.js","sources":["webpack:///./pages/roomDetail.tsx"],"sourcesContent":["import React, { useState, useCallback, useMemo, useRef, useEffect } from \"react\";\nimport { useRouter } from 'next/router';\nimport Cookie from \"js-cookie\";\nimport 'antd/dist/antd.css';\nimport { Carousel, Icon } from 'antd';\nimport Layout from \"../components/Layout\";\nimport '../assets/scss/room.scss';\nimport RoomList from \"../components/RoomList\";\nimport RoomdetailPicture from \"../components/RoomdetailPicture\";\nimport { useSelectRoomQuery } from \"../generated/graphql\";\nimport Calendars from \"../components/Calendar\";\nimport Calendars2 from \"../components/Calendar2\";\nimport { Header } from \"../components/Header\";\nimport { StarFilled, SearchOutlined, CloseOutlined, LeftOutlined, RightOutlined, HomeFilled, ArrowRightOutlined, DownOutlined } from \"@ant-design/icons\";\nimport Review from \"../components/Review\";\nimport _ from \"lodash\";\nimport RoomImages from \"../components/RoomImages\";\nconst isServer = () => typeof window === \"undefined\";\nconst initialHeight = 800;\ndeclare var kakao: any\nlet map;\nlet marker;\nexport default () => {\n    const [startPage, setStartPge] = useState(0);\n    const [endPage, setEndPage] = useState(4);\n    const [searchword, setSearchword] = useState('');\n    const [checkin, setCheckin] = useState('체크인');\n    const [checkout, setCheckout] = useState('체크아웃');\n    const [isShowCalendar, setIsShowCalendar] = useState(false);\n    const [isShowSearchList, setIsShowSearchList] = useState(true);\n    const router: any = useRouter();\n    const { data, loading } = useSelectRoomQuery({\n        variables: {\n            id: parseInt(router?.query?.id)\n        }\n    });\n    const initialReviews = useMemo(() => {\n        const reviews = data?.selectRoom?.reviews;\n        return reviews;\n    }, [data]);\n    const customMarker = useMemo(() => {\n        return `\n            <div class=\"roomdetail-custommarker\">\n                <div class=\"roomdetail-custommarker2\">\n                    <img src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcRoiFf1b2LqQdkFWHTr1ASPdAfS6iXMh9rSYn5AAolenw1bP0K3\" class=\"roomdetail-custommarker3\" />\n                </div>\n            </div>\n        `;\n    }, []);\n    const [reviews, setReviews] = useState(initialReviews || []);\n    const onChangeWord = useCallback((e) => {\n        setSearchword(e.target.value);\n    }, [searchword]);\n    const onKeyPress = useCallback((e) => {\n        if (searchword === '') {\n            setReviews(data?.selectRoom?.reviews as any);\n            return;\n        }\n        if (e.which == 13 && searchword !== '') {\n            let newReviews = _.clone(reviews);\n            newReviews = _.filter(data?.selectRoom?.reviews, (o) => {\n                return _.includes(o.review, searchword);\n            });\n            setReviews(newReviews);\n        }\n    }, [searchword, reviews]);\n    const pageLeft = useCallback(() => {\n        const newStartPage = _.clone(startPage) - 5;\n        const newEndPage = _.clone(endPage) - 5;\n        setStartPge(newStartPage);\n        setEndPage(newEndPage);\n    }, [startPage, endPage]);\n    const pageRight = useCallback(() => {\n        const newStartPage = _.clone(startPage) + 5;\n        const newEndPage = _.clone(endPage) + 5;\n        setStartPge(newStartPage);\n        setEndPage(newEndPage);\n    }, [startPage, endPage]);\n    useEffect(() => {\n        const mapContainer = document.getElementById('map');\n        const options = {\n            center: new kakao.maps.LatLng(33.450701, 126.570667),\n            level: 3\n        };\n        map = new kakao.maps.Map(mapContainer, options);\n        const markerPosition = new kakao.maps.LatLng(33.450701, 126.570667);\n        marker = new kakao.maps.CustomOverlay({\n            position: markerPosition,\n            content: customMarker\n        });\n        marker.setMap(map);\n    }, []);\n    if (loading) {\n        return (\n            <div>로딩중...</div>\n        );\n    }\n    return (\n        <div style={{ height: `${isServer() ? initialHeight : window.innerHeight}px` }}>\n            <div className=\"roomdetail-container1\">\n                <Header />\n            </div>\n            <div className=\"roomdetail-container2\">\n                <RoomdetailPicture room={data?.selectRoom as any} />\n            </div>\n            <div className=\"roomdetail-container35\">\n                <RoomImages room={data?.selectRoom as any} />\n            </div>\n            <div className=\"roomdetail-container25\">\n                <div className=\"roomdetail-container7\">\n                    <span className=\"roomdetail-span2\">{data?.selectRoom?.name}</span>\n                    <div className=\"roomdetail-container8\">\n                        <span className=\"roomdetail-span3\">{data?.selectRoom?.city}</span>\n                        <div className=\"roomdetail-container9\" style={{ backgroundImage: `url('${data?.selectRoom?.user?.avatar}')` }}>\n                        </div>\n                    </div>\n                    <hr />\n                    <div className=\"roomdetail-container10\">\n                        <div>\n                            <span style={{ fontWeight: 'bold' }}>설명</span>\n                        </div>\n                        <div>\n                            <span style={{ fontWeight: \"lighter\" }}>{data?.selectRoom?.description}</span>\n                        </div>\n                        <div>\n                            <span style={{ fontWeight: \"lighter\" }}>{data?.selectRoom?.description}</span>\n                        </div>\n                        <div>\n                            <span style={{ fontWeight: \"lighter\" }}>{data?.selectRoom?.description}</span>\n                        </div>\n                    </div>\n                    <hr />\n                    <div className=\"roomdetail-container12\">\n                        <div className=\"roomdetail-container11\">\n                            <span>이 설명을 한국어로 번역하기</span>\n                        </div>\n                        <div style={{ marginTop: '5%' }}>\n                            <span style={{ fontWeight: \"lighter\" }}>{data?.selectRoom?.description}</span>\n                        </div>\n                        <div>\n                            <span style={{ fontWeight: \"lighter\" }}>{data?.selectRoom?.description}</span>\n                        </div>\n                        <div>\n                            <span style={{ fontWeight: \"lighter\" }}>{data?.selectRoom?.description}</span>\n                        </div>\n                    </div>\n                    <hr />\n                    <div className=\"roomdetail-container13\">\n                        <Calendars room={data?.selectRoom as any} />\n                    </div>\n                    <div className=\"roomdetail-container14\">\n                        <div>\n                            <span className=\"roomdetail-span4\">후기</span>\n                        </div>\n                        <div className=\"roomdetail-container15\">\n                            <StarFilled style={{ fontSize: '15px', color: '#008489', marginTop: '2%' }} />\n                            <span style={{ fontWeight: 'bold', color: '#008489' }}>4.85</span>\n                            <span style={{ color: 'gray' }}>|</span>\n                            <span style={{ fontWeight: 'bold' }}>545 후기</span>\n                        </div>\n                        <div className=\"roomdetail-container16\">\n                            <input type=\"text\" className=\"roomdetail-input\" placeholder={\"후기 검색\"} onChange={onChangeWord} onKeyPress={onKeyPress} />\n                            <div className=\"roomdetail-container18\">\n                                <CloseOutlined style={{ fontSize: '20px', color: '#ebebeb' }} />\n                            </div>\n                            <div className=\"roomdetail-container17\">\n                                <SearchOutlined style={{ fontSize: '20px', color: 'gray' }} />\n                            </div>\n                        </div>\n                        <div className=\"roomdetail-container19\">\n                            {\n                                reviews.slice(startPage, endPage).map(review => (\n                                    <Review key={review.id} review={review as any} />\n                                ))\n                            }\n                            <div className=\"roomdetail-container20\">\n                                {\n                                    startPage !== 0 && (\n                                        <div className=\"roomdetail-container21\" onClick={pageLeft}>\n                                            <LeftOutlined style={{ fontSize: '15px', color: '#008489' }} />\n                                        </div>\n                                    )\n                                }\n                                {\n                                    (data?.selectRoom?.reviews.length || 0) >= endPage && (\n                                        <div className=\"roomdetail-container21\" onClick={pageRight}>\n                                            <RightOutlined style={{ fontSize: '15px', color: '#008489' }} />\n                                        </div>\n                                    )\n                                }\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"roomdetail-container22\">\n                        <div>\n                            <span className=\"roomdetail-span4\">지역정보</span>\n                        </div>\n                        <div id=\"map\" className=\"roomdetail-container23\">\n                            <div className=\"roomdetail-container24\">\n\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"roomdetail-container26\">\n                    <div className=\"roomdetail-container27\">\n                        <div>\n                            <span className=\"roomdetail-span5\">\n                                요금을 확인하려면 날짜를 입력하세요.\n                            </span>\n                        </div>\n                        <div className=\"roomdetail-container28\">\n                            <StarFilled style={{ fontSize: '10px', color: '#008489' }} />\n                            <span style={ { fontSize: '12px' } }>4.85</span>\n                            <span style={ { color: 'gray', fontSize: '12px' } }>(후기 231개)</span>\n                        </div>\n                    </div>\n                    <div className=\"roomdetail-container29\"/>\n                    <div className=\"roomdetail-container30\">\n                        <span style={ { fontSize: '12px' } }>날짜</span>\n                    </div>\n                    <div className=\"roomdetail-container31\">\n                        <div onClick={() => setIsShowCalendar(!isShowCalendar)}>\n                            <span style={ { color: 'gray' } }>{checkin}</span>\n                        </div>\n                        <div style={ { alignItems: 'center', display: 'flex' } }>\n                            <ArrowRightOutlined style={{ fontSize: '16px' }}/>\n                        </div>\n                        <div onClick={() => setIsShowCalendar(!isShowCalendar)}>\n                            <span style={ { color: 'gray' } }>{checkout}</span>\n                        </div>\n                    </div>\n                    <div className=\"roomdetail-container30\">\n                        <span style={ { fontSize: '12px' } }>인원</span>\n                    </div>\n                    <div className=\"roomdetail-container32\">\n                        <div>\n                            <span>게스트 1명</span>\n                        </div>\n                        <div>\n                            <DownOutlined style={{ fontSize: '16px' }}/>\n                        </div>\n                    </div>\n                    <div className=\"roomdetail-container33\">\n                        <span style={ { fontWeight: 'bold', color: 'white' } }>\n                            날짜 입력\n                        </span>\n                    </div>\n                </div>\n                {/* {\n                    isShowCalendar && (\n                        <div className=\"roomdetail-container34\">\n                            <Calendars2 room={data?.selectRoom as any} setCheckin={setCheckin} setCheckout={setCheckout} />\n                        </div>\n                    )\n                } */}\n                {\n                    isShowSearchList && (\n                        <div className=\"roomdetail-container36\">\n\n                        </div>\n                    )\n                }\n            </div>\n        </div>\n    );\n};"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAEA;AAGA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAEA;AACA;AACA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAOA;AACA;AATA;AAUA;AACA;AADA;AADA;AATA;AAAA;AACA;AAaA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAOA;AACA;AA3BA;AAAA;AAAA;AACA;AA2BA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAcA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;;;;;;;A","sourceRoot":""}