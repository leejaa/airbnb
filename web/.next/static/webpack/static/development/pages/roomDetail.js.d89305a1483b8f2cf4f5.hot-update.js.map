{"version":3,"file":"static/webpack/static/development/pages/roomDetail.js.d89305a1483b8f2cf4f5.hot-update.js","sources":["webpack:///./components/Calendar.tsx","webpack:///./pages/roomDetail.tsx"],"sourcesContent":["import React, { useState, useRef, useCallback, useMemo } from \"react\";\nimport { RightOutlined, LeftOutlined } from '@ant-design/icons';\nimport { Calendar } from 'antd';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Room } from \"../generated/graphql\";\nimport '../assets/scss/room.scss';\nimport * as Moment from 'moment';\nimport { extendMoment } from 'moment-range';\nimport _ from \"lodash\";\nlet moment = extendMoment(Moment);\nmoment.locale('ko');\ntype Props = {\n    room: Room\n};\n\nconst Calendars: React.FunctionComponent<Props> = ({\n    room\n}) => {\n    const [ today, setToday ] = useState(moment());\n    const [ date, setDate ] : any = useState(moment());\n    const [ dates, setDates ] = useState(moment.range(moment(), moment()));\n    const dateFullCellRender = useCallback((dateParam) => {\n        let classNameDiv = 'calendar-container2_1';\n        let classNameSpan = 'calendar-span1_1';\n        const check_in_list = _.map( room?.reservation, reservation => reservation.check_in );\n        if ( dates.contains(dateParam) ) {\n            classNameDiv = 'calendar-container2_2';\n            classNameSpan = 'calendar-span1_2';\n        }\n        if ( _.includes( check_in_list, dateParam.format('YYYY-MM-DD') ) || today.isAfter(dateParam) ) {\n            classNameDiv = 'calendar-container2_3';\n            classNameSpan = 'calendar-span1_3';\n        }\n\n        return(\n            <div className=\"calendar-container1\">\n                <div className={classNameDiv}>\n                    <span className={classNameSpan}>{parseInt(moment(dateParam).format('DD'), 10)}</span>\n                </div>\n            </div>\n        );\n    }, [date, dates]);\n    const goLeft = useCallback(() => {\n        let newDate = _.clone(date);\n        newDate = newDate.add(-1, 'month');\n        setDate(newDate);\n    }, [date]);\n    const goRight = useCallback(() => {\n        let newDate = _.clone(date);\n        newDate = newDate.add(1, 'month');\n        setDate(newDate);\n    }, [date]);\n    const onSelect = useCallback((dateParam) => {\n        const check_in_list = _.map( room?.reservation, reservation => reservation.check_in );\n        if ( dates.center().format('YYYY-MM-DD') == moment().format('YYYY-MM-DD') ) {\n            if ( !_.includes( check_in_list, dateParam.format('YYYY-MM-DD') ) && !date.isAfter(dateParam) ) {\n                const newDate = _.clone(dateParam);\n                const newDates = moment.range(newDate, newDate);\n                setDate(newDate);\n                setDates(newDates);\n            }\n        } else {\n            const newDates = moment.range(date, dateParam);\n            setDates(newDates);\n        }\n    }, [date, dates]);\n    const clearDate = useCallback(() => {\n        setDate(moment());\n        setDates(moment.range(moment(), moment()));\n    }, [date, dates]);\n    return (\n        <div style={ { width: '100%', height: '100%' } }>\n            <div className=\"calendar-container3\">\n                <div className=\"calendar-container4\" onClick={goLeft}>\n                    <LeftOutlined  style={ { fontSize: '20px' } }/>\n                </div>\n                <span className=\"calendar-span2\">{`${date.format('YYYY')}년 ${parseInt(date.format('MM'), 10)}월`}</span>\n                <div className=\"calendar-container5\" onClick={goRight}>\n                    <RightOutlined  style={ { fontSize: '20px' } }/>\n                </div>\n            </div>\n            <Calendar\n                dateFullCellRender={dateFullCellRender}\n                value={date}\n                onSelect={onSelect}\n            />\n            {\n                dates.center().format('YYYY-MM-DD') != moment().format('YYYY-MM-DD') && (\n                    <span style={ { color: 'rgb(0, 132, 137)', marginLeft: '4%' } } onClick={clearDate}>날짜 지우기</span>\n                )\n            }\n            <hr />\n        </div>\n    );\n}\n\nexport default Calendars;","import React, { useState } from \"react\";\nimport { useRouter } from 'next/router';\nimport Cookie from \"js-cookie\";\nimport 'antd/dist/antd.css';\nimport { Carousel, Icon } from 'antd';\nimport Layout from \"../components/Layout\";\nimport '../assets/scss/room.scss';\nimport RoomList from \"../components/RoomList\";\nimport RoomdetailPicture from \"../components/RoomdetailPicture\";\nimport { useSelectRoomQuery } from \"../generated/graphql\";\nimport Calendars from \"../components/Calendar\";\nconst isServer = () => typeof window === \"undefined\";\nconst initialHeight = 800;\nexport default () => {\n    const router: any = useRouter();\n    const { data, loading } = useSelectRoomQuery({\n        variables: {\n            id: parseInt(router?.query?.id)\n        }\n    });\n    if (loading) {\n        return (\n            <div>로딩중...</div>\n        );\n    }\n    return (\n        <div style={{ height: `${isServer() ? initialHeight : window.innerHeight}px` }}>\n            <div className=\"roomdetail-container1\">\n\n            </div>\n            <div className=\"roomdetail-container2\">\n                <RoomdetailPicture room={data?.selectRoom as any} />\n            </div>\n            <div className=\"roomdetail-container7\">\n                <span className=\"roomdetail-span2\">{data?.selectRoom?.name}</span>\n                <div className=\"roomdetail-container8\">\n                    <span className=\"roomdetail-span3\">{data?.selectRoom?.city}</span>\n                    <div className=\"roomdetail-container9\" style={{ backgroundImage: `url('${data?.selectRoom?.user?.avatar}')` }}>\n                    </div>\n                </div>\n                <hr />\n                <div className=\"roomdetail-container10\">\n                    <div>\n                        <span style={{ fontWeight: 'bold' }}>설명</span>\n                    </div>\n                    <div>\n                        <span style={{ fontWeight: \"lighter\" }}>{data?.selectRoom?.description}</span>\n                    </div>\n                    <div>\n                        <span style={{ fontWeight: \"lighter\" }}>{data?.selectRoom?.description}</span>\n                    </div>\n                    <div>\n                        <span style={{ fontWeight: \"lighter\" }}>{data?.selectRoom?.description}</span>\n                    </div>\n                </div>\n                <hr />\n                <div className=\"roomdetail-container12\">\n                    <div className=\"roomdetail-container11\">\n                        <span>이 설명을 한국어로 번역하기</span>\n                    </div>\n                    <div style={{ marginTop: '5%' }}>\n                        <span style={{ fontWeight: \"lighter\" }}>{data?.selectRoom?.description}</span>\n                    </div>\n                    <div>\n                        <span style={{ fontWeight: \"lighter\" }}>{data?.selectRoom?.description}</span>\n                    </div>\n                    <div>\n                        <span style={{ fontWeight: \"lighter\" }}>{data?.selectRoom?.description}</span>\n                    </div>\n                </div>\n                <hr />\n                <div className=\"roomdetail-container13\">\n                    <Calendars room={data?.selectRoom as any}/>\n                </div>\n            </div>\n        </div>\n    );\n};"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AAEA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChGA;AACA;AAEA;AAGA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAFA;AAGA;AACA;AADA;AADA;AAFA;AAAA;AACA;AAMA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;;;;A","sourceRoot":""}