(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{484:function(e,t,n){"use strict";var a=n(87),r=n.n(a),o=n(0),i=n.n(o),l=n(58),c=n(23),s=n.n(c),u=n(25),m=n.n(u),d=n(418),h=n(16),g=n.n(h);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y={isModalOpen:!1,user:{},selectRooms:[],roomId:""},b=function(e,t){switch(t.type){case"setIsModalOpen":return p({},e,{isModalOpen:t.value});case"setUser":return p({},e,{user:t.value});case"setSelectRooms":return p({},e,{selectRooms:t.value});case"setRoomId":return p({},e,{roomId:t.value});default:throw new Error("unexpected action.type: "+t.type)}},v=Object(o.createContext)(null),E=function(e){var t=e.children,n=Object(o.useReducer)(b,y),a=m()(n,2),r=a[0],l=a[1];return Object(o.useEffect)((function(){s.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:Object(d.a)().then((function(e){console.log(e)})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}))}),[]),i.a.createElement(v.Provider,{value:[r,l]},t)},j=n(50),w=n.n(j),k=n(416),C=n(44),O=n(116),R=n(51),z=n.n(R),I=n(2),S=function(e){var t=e.children;return i.a.createElement(I.a,{style:{flex:1,alignItems:"center",justifyContent:"center"}},t)},x=n(720),T=n(464),D=n(452),W=n(447),F=n(403),P=n(187),L=n(3),M=n(9),$=n(28),A=n(26),B=n(47),q=n(79),N=n(134),U=Object(o.createContext)(null),Y=n(40);function _(){var e=w()(["\n    query Users {\n  users {\n    id\n    name\n    avatar\n    email\n    roomConnection {\n      id\n      name\n      description\n      photoConnection {\n        id\n        file\n        caption\n      }\n    }\n  }\n}\n    "]);return _=function(){return e},e}function J(){var e=w()(["\n    subscription newEmail {\n  newEmail\n}\n    "]);return J=function(){return e},e}function G(){var e=w()(["\n    mutation RequestAuthEmail($email: String!, $message: String!) {\n  requestAuthEmail(email: $email, message: $message)\n}\n    "]);return G=function(){return e},e}function Q(){var e=w()(["\n    mutation Register($email: String!, $password: String!, $name: String) {\n  register(email: $email, password: $password, name: $name)\n}\n    "]);return Q=function(){return e},e}function H(){var e=w()(["\n    query Me {\n  me {\n    id\n    email\n    name\n  }\n}\n    "]);return H=function(){return e},e}function V(){var e=w()(["\n    mutation Logout {\n  logout\n}\n    "]);return V=function(){return e},e}function X(){var e=w()(["\n    mutation Login($email: String!, $password: String!) {\n  login(email: $email, password: $password) {\n    accessToken\n    user {\n      id\n      email\n    }\n    refreshToken\n  }\n}\n    "]);return X=function(){return e},e}function Z(){var e=w()(["\n    mutation createLike($userId: Float!, $roomId: Float!) {\n  createLike(userId: $userId, roomId: $roomId)\n}\n    "]);return Z=function(){return e},e}function K(){var e=w()(["\n    mutation createRoom($options: RoomInput!) {\n  createRoom(options: $options) {\n    id\n    houseType\n    houseRadio\n    convenience\n    dates\n    lat\n    lng\n    address\n    post_code\n  }\n}\n    "]);return K=function(){return e},e}function ee(){var e=w()(["\n    query selectAllRooms {\n  selectAllRooms {\n    id\n    name\n    description\n    country\n    city\n    price\n    address\n    photoConnection {\n      id\n      caption\n      file\n    }\n  }\n}\n    "]);return ee=function(){return e},e}function te(){var e=w()(["\n    query selectTopRooms {\n  selectTopRooms {\n    id\n    name\n    city\n    address\n    description\n    price\n    score\n    photoConnection {\n      id\n      caption\n      file\n    }\n  }\n}\n    "]);return te=function(){return e},e}function ne(){var e=w()(["\n    query selectRoom($id: Float!) {\n  selectRoom(id: $id) {\n    id\n    name\n    city\n    address\n    description\n    price\n    score\n    lat\n    lng\n    photoConnection {\n      id\n      caption\n      file\n    }\n    likeUsers {\n      id\n      user {\n        id\n        name\n        email\n      }\n    }\n    user {\n      id\n      name\n      avatar\n    }\n    reviews {\n      id\n      review\n      createdAt\n      user {\n        id\n        name\n        avatar\n      }\n    }\n  }\n}\n    "]);return ne=function(){return e},e}function ae(){var e=w()(["\n    query selectRooms($skip: Float!, $take: Float!) {\n  selectRooms(skip: $skip, take: $take) {\n    id\n    name\n    city\n    address\n    description\n    price\n    score\n    lat\n    lng\n    photoConnection {\n      id\n      caption\n      file\n    }\n    likeUsers {\n      id\n      user {\n        id\n        name\n        email\n      }\n    }\n  }\n}\n    "]);return ae=function(){return e},e}var re=z()(ae());function oe(e){return Y.d(re,e)}var ie=z()(ne());function le(e){return Y.d(ie,e)}z()(te());var ce=z()(ee());z()(K());var se=z()(Z());z()(X());z()(V());z()(H());z()(Q());z()(G());z()(J());z()(_());$.a.get("window").width;var ue=L.a.create({container:{flex:1,width:"100%"},wrapper:{borderWidth:0,borderColor:"#010000",width:"80%",marginLeft:40,height:250,marginTop:30},wrapper2:{borderWidth:.5,borderColor:"#010000",width:"80%",marginLeft:40,height:250,marginTop:50},slide:{flex:1,justifyContent:"center",backgroundColor:"transparent"},slide1:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"#9DD6EB"},slide2:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"#97CAE5"},slide3:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"#92BBD9"},text:{color:"#fff",fontSize:30,fontWeight:"bold"},image:{width:"100%",flex:1}});function me(e){e.route,e.navigation;var t,n,a=Object(o.useState)(5),r=m()(a,2),l=(r[0],r[1],Object(o.useContext)(U)),c=m()(l,2),s=(c[0],c[1],Y.d(ce,n)),u=s.data,d=s.loading;s.error;return console.log("loading",d),i.a.createElement(B.a,{style:ue.container},null==u||null==(t=u.selectAllRooms)?void 0:t.slice(0,10).map((function(e){var t,n,a;return i.a.createElement(I.a,{style:ue.wrapper,key:e.id},i.a.createElement(N.a,null,i.a.createElement(I.a,{style:ue.slide},i.a.createElement(I.a,{style:{position:"absolute",right:0,zIndex:1,top:0}},i.a.createElement(I.a,{style:{position:"absolute",right:3,zIndex:1,top:3}},i.a.createElement(W.a,{name:"md-heart",size:22,color:"red"})),i.a.createElement(W.a,{name:"md-heart-empty",size:30,color:"white"})),i.a.createElement(A.a,{resizeMode:"stretch",style:ue.image,source:{uri:null==e||null==(t=e.photoConnection[0])?void 0:t.file}})),i.a.createElement(I.a,{style:ue.slide},i.a.createElement(I.a,{style:{position:"absolute",right:0,zIndex:1,top:0}},i.a.createElement(I.a,{style:{position:"absolute",right:3,zIndex:1,top:3}},i.a.createElement(W.a,{name:"md-heart",size:22,color:"red"})),i.a.createElement(W.a,{name:"md-heart-empty",size:30,color:"white"})),i.a.createElement(A.a,{resizeMode:"stretch",style:ue.image,source:{uri:null==e||null==(n=e.photoConnection[0])?void 0:n.file}})),i.a.createElement(I.a,{style:ue.slide},i.a.createElement(I.a,{style:{position:"absolute",right:0,zIndex:1,top:0}},i.a.createElement(I.a,{style:{position:"absolute",right:3,zIndex:1,top:3}},i.a.createElement(W.a,{name:"md-heart",size:22,color:"red"})),i.a.createElement(W.a,{name:"md-heart-empty",size:30,color:"white"})),i.a.createElement(A.a,{resizeMode:"stretch",style:ue.image,source:{uri:null==e||null==(a=e.photoConnection[0])?void 0:a.file}}))),i.a.createElement(I.a,{style:{marginBottom:25}},i.a.createElement(I.a,{style:{flex:1,flexDirection:"row",marginTop:5}},i.a.createElement(q.b,{title:"\uc288\ud37c\ud638\uc2a4\ud2b8",titleStyle:{color:"black"},containerStyle:{borderRadius:3,width:"30%"},buttonStyle:{borderRadius:3,backgroundColor:"#FFFFFF",borderColor:"black",borderWidth:1,height:25}}),i.a.createElement(I.a,{style:{marginLeft:5}},i.a.createElement(M.a,{style:{color:"gray"}},e.name)),i.a.createElement(I.a,{style:{position:"absolute",right:0,flexDirection:"row"}},i.a.createElement(W.a,{name:"md-star",size:15,color:"red"}),i.a.createElement(M.a,null,"4.8 (215)")))),i.a.createElement(I.a,null,i.a.createElement(M.a,null,e.description)))})))}var de=n(27),he=n(240),ge=n(53),fe=n.n(ge),pe=n(461),ye=n(8),be=n.n(ye),ve=$.a.get("window"),Ee=ve.height,je=ve.width,we=L.a.create({container1:{height:Ee,paddingTop:"Android"===O.a?20:0,position:"relative"},container2:{height:Ee/12,flexDirection:"row",paddingLeft:15,alignItems:"center",position:"relative",zIndex:1},container3:{position:"absolute",right:10},container4:{height:Ee/3,position:"relative"},image:{width:"100%",height:"100%",position:"absolute",top:0},modalContainer:{borderTopWidth:.1,borderTopColor:"gray",height:Ee/10,width:je,position:"absolute",bottom:0,flexDirection:"row",justifyContent:"space-between",alignItems:"center",backgroundColor:"white"},modalContainer2:{borderRadius:5,backgroundColor:"#FA6D6D",width:"40%",height:"80%",position:"absolute",right:3,justifyContent:"center",alignItems:"center"},container5:{marginLeft:15,marginRight:15,marginTop:20,alignItems:"center"},container6:{width:"85%",height:40,alignItems:"center",flexDirection:"row",justifyContent:"center"},container7:{width:"90%",height:70,position:"relative",justifyContent:"center"},avatarContainer:{position:"absolute",right:2,borderRadius:40,height:"75%",width:"15%"},container8:{height:200,width:"90%",marginLeft:"10%",marginRight:"5%"},container9:{marginTop:10,width:"100%",height:25,justifyContent:"center",paddingLeft:10},container10:{width:"100%",height:100,marginTop:30,paddingLeft:10},container11:{width:"90%",height:150,marginTop:30},container12:{width:"100%",height:"30%",alignItems:"center",flexDirection:"row"},avatarContainer2:{},container13:{width:"50%",height:"100%",flexDirection:"column",marginLeft:10},container14:{width:"95%",height:"60%"},container15:{width:"100%",height:"20%",marginTop:8},container16:{width:"100%",height:200,marginTop:30,paddingLeft:10,paddingRight:10},container17:{borderRadius:15,backgroundColor:"#0F7652",width:30,height:30,alignItems:"center",justifyContent:"center"}});function ke(e){var t,n,a,r,l,c,s,u,d,h,g,f,p,y,b,E,j,w,k,R=e.route,z=e.navigation,S=Object(o.useContext)(v),x=m()(S,2),T=(x[0],x[1]),D=le({variables:{id:parseInt(null==R||null==(t=R.params)?void 0:t.id)}}),F=D.data,P=D.loading;return Object(o.useEffect)((function(){var e;T({type:"setRoomId",value:null==R||null==(e=R.params)?void 0:e.id})}),[]),P?i.a.createElement(I.a,null,i.a.createElement(C.a,{size:"large",color:"#0000ff"})):i.a.createElement(I.a,null,i.a.createElement(B.a,{style:we.container1},i.a.createElement(I.a,{style:we.container4},i.a.createElement(I.a,{style:we.container2},i.a.createElement(I.a,null,i.a.createElement(W.a,{name:"ios-arrow-round-back",size:25})),i.a.createElement(I.a,{style:we.container3},i.a.createElement(W.a,{name:"md-heart-empty",size:25}))),i.a.createElement(I.a,{style:we.image},i.a.createElement(N.a,{loop:!0,controlsProps:{prevTitle:"",nextTitle:""}},null==F||null==(n=F.selectRoom)||null==(a=n.photoConnection)?void 0:a.map((function(e){return i.a.createElement(A.a,{key:e.id,source:{uri:e.file},style:{width:"100%",height:"100%"}})}))))),i.a.createElement(I.a,{style:we.container5},i.a.createElement(I.a,{style:we.container6},i.a.createElement(M.a,{style:{fontWeight:"bold",fontSize:30}},null==F||null==(r=F.selectRoom)?void 0:r.name)),i.a.createElement(I.a,{style:we.container7},i.a.createElement(M.a,{style:{color:"gray",fontSize:15}},null==F||null==(l=F.selectRoom)?void 0:l.description),i.a.createElement(q.a,{rounded:!0,source:{uri:null==F||null==(c=F.selectRoom)||null==(s=c.user)?void 0:s.avatar},containerStyle:we.avatarContainer})),i.a.createElement(I.a,{style:we.container8},i.a.createElement(M.a,null,null==F||null==(u=F.selectRoom)?void 0:u.description)),i.a.createElement(q.c,{style:{borderColor:"gray",width:"90%",borderWidth:.6}}),i.a.createElement(I.a,{style:we.container9},i.a.createElement(M.a,{style:{color:"#0F7652",fontWeight:"bold"}},"\ubc88\uc5ed")),i.a.createElement(I.a,{style:we.container10},i.a.createElement(M.a,null,"\ubc88\uc5ed \ubc88\uc5ed \ubc88\uc5ed \ubc88\uc5ed \ubc88\uc5ed \ubc88\uc5ed")),i.a.createElement(q.c,{style:{borderColor:"gray",width:"90%",borderWidth:.6}}),i.a.createElement(I.a,{style:we.container9},i.a.createElement(M.a,{style:{color:"#0F7652",fontWeight:"bold"}},"\uc219\uc18c\uc704\uce58")),"Android"===O.a&&i.a.createElement(I.a,{style:we.container16},i.a.createElement(he.b,{style:{width:"100%",height:"100%"},region:{latitude:37.78825,longitude:-122.4324,latitudeDelta:.0022,longitudeDelta:.0421}},i.a.createElement(he.a,{coordinate:{latitude:37.78825,longitude:-122.4324}},i.a.createElement(I.a,{style:we.container17},i.a.createElement(pe.a,{name:"home",size:20,color:"white"}))))),i.a.createElement(q.c,{style:{borderColor:"gray",width:"90%",borderWidth:.6}}),i.a.createElement(I.a,{style:we.container11},i.a.createElement(I.a,{style:we.container12},i.a.createElement(q.a,{rounded:!0,source:{uri:null==F||null==(d=F.selectRoom)||null==(h=d.reviews[0])||null==(g=h.user)?void 0:g.avatar},containerStyle:we.avatarContainer2}),i.a.createElement(I.a,{style:we.container13},i.a.createElement(M.a,{style:{fontWeight:"bold"}},null==F||null==(f=F.selectRoom)||null==(p=f.reviews[0])||null==(y=p.user)?void 0:y.name),i.a.createElement(M.a,{style:{color:"gray"}},be()(fe.a.replace(null==F||null==(b=F.selectRoom)||null==(E=b.reviews[0])?void 0:E.createdAt,/"/g,"")).format("YYYY\ub144 MM\uc6d4")))),i.a.createElement(I.a,{style:we.container14},i.a.createElement(M.a,null,null==F||null==(j=F.selectRoom)||null==(w=j.reviews[0])?void 0:w.review)),i.a.createElement(de.a,{style:we.container15,onPress:function(){var e;return z.navigate("Reviews",{id:null==F||null==(e=F.selectRoom)?void 0:e.id})}},i.a.createElement(M.a,{style:{color:"#0F7652",fontWeight:"bold"}},"\ud6c4\uae30 ",null==F||null==(k=F.selectRoom)?void 0:k.reviews.length,"\uac1c \ubaa8\ub450 \uc77d\uae30")),i.a.createElement(q.c,{style:{borderColor:"gray",width:"100%",borderWidth:.6,marginTop:30}})),i.a.createElement(I.a,{style:{height:180}}))),i.a.createElement(I.a,{style:we.modalContainer},i.a.createElement(de.a,{style:we.modalContainer2},i.a.createElement(M.a,{style:{color:"white",fontWeight:"bold"}},"\ub0a0\uc9dc \uc785\ub825"))))}var Ce=L.a.create({container11:{width:"100%",height:150,marginTop:30},container12:{width:"100%",height:"30%",alignItems:"center",flexDirection:"row",paddingTop:5},avatarContainer2:{},container13:{width:"50%",height:"100%",flexDirection:"column",marginLeft:10},container14:{width:"95%",height:"60%"},container15:{width:"100%",height:"20%",marginTop:8}}),Oe=function(e){var t,n,a=e.review;return i.a.createElement(I.a,{style:Ce.container11},i.a.createElement(q.c,{style:{borderColor:"gray",width:"100%",borderWidth:.3,marginTop:30}}),i.a.createElement(I.a,{style:Ce.container12},i.a.createElement(q.a,{rounded:!0,source:{uri:null==a||null==(t=a.user)?void 0:t.avatar},containerStyle:Ce.avatarContainer2}),i.a.createElement(I.a,{style:Ce.container13},i.a.createElement(M.a,{style:{fontWeight:"bold"}},null==a||null==(n=a.user)?void 0:n.name),i.a.createElement(M.a,{style:{color:"gray"}},be()(fe.a.replace(null==a?void 0:a.createdAt,/"/g,"")).format("YYYY\ub144 MM\uc6d4")))),i.a.createElement(I.a,{style:Ce.container14},i.a.createElement(M.a,null,null==a?void 0:a.review)))},Re=$.a.get("window"),ze=Re.height,Ie=Re.width,Se=L.a.create({container1:{paddingTop:.02*ze,paddingLeft:.05*Ie,paddingRight:.05*Ie},container2:{width:"100%",height:.1*ze,justifyContent:"center"},container3:{width:"30%",height:.05*ze,flexDirection:"row",justifyContent:"space-between",alignItems:"center"},container4:{width:"100%",height:.2*ze,marginTop:.01*ze},container5:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},container6:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center",width:"50%"}});function xe(e){var t,n,a=e.route,r=(e.navigation,Object(o.useState)(5)),l=m()(r,2),c=l[0],s=l[1],u=le({variables:{id:parseInt(null==a||null==(t=a.params)?void 0:t.id)}}),d=u.data;if(u.loading)return i.a.createElement(I.a,null,i.a.createElement(C.a,{size:"large",color:"#0000ff"}));return i.a.createElement(B.a,{style:Se.container1,onScroll:function(e){var t;if(function(e){var t=e.layoutMeasurement,n=e.contentOffset,a=e.contentSize;return t.height+n.y>=a.height-20}(e.nativeEvent)&&c<(null==d||null==(t=d.selectRoom)?void 0:t.reviews.length)){var n=fe.a.clone(c)+5;s(n)}},scrollEventThrottle:100},i.a.createElement(I.a,{style:Se.container2},i.a.createElement(M.a,{style:{fontWeight:"bold",fontSize:30}},"\ud6c4\uae30")),i.a.createElement(I.a,{style:Se.container3},i.a.createElement(T.a,{name:"star",size:18,color:"#0F7652"}),i.a.createElement(M.a,{style:{fontWeight:"bold"}},"4.95"),i.a.createElement(M.a,{style:{color:"gray"}},"|"),i.a.createElement(M.a,{style:{fontWeight:"bold"}},"822\uac1c")),i.a.createElement(I.a,{style:{borderBottomColor:"gray",borderBottomWidth:1,width:"100%",marginTop:.01*ze}}),i.a.createElement(I.a,{style:Se.container4},i.a.createElement(I.a,{style:Se.container5},i.a.createElement(M.a,null,"\uc815\ud655\uc131"),i.a.createElement(I.a,{style:Se.container6},i.a.createElement(I.a,{style:{width:"50%",borderWidth:2,borderColor:"#0F7652",backgroundColor:"#0F7652",marginRight:10,borderRadius:20}}),i.a.createElement(M.a,{style:{fontWeight:"bold"}},"5.0"))),i.a.createElement(I.a,{style:Se.container5},i.a.createElement(M.a,null,"\uc758\uc0ac\uc18c\ud1b5"),i.a.createElement(I.a,{style:Se.container6},i.a.createElement(I.a,{style:{width:"50%",borderWidth:2,borderColor:"#0F7652",backgroundColor:"#0F7652",marginRight:10,borderRadius:20}}),i.a.createElement(M.a,{style:{fontWeight:"bold"}},"5.0"))),i.a.createElement(I.a,{style:Se.container5},i.a.createElement(M.a,null,"\uccb4\ud06c\uc778"),i.a.createElement(I.a,{style:Se.container6},i.a.createElement(I.a,{style:{width:"50%",borderWidth:2,borderColor:"#0F7652",backgroundColor:"#0F7652",marginRight:10,borderRadius:20}}),i.a.createElement(M.a,{style:{fontWeight:"bold"}},"4.9"))),i.a.createElement(I.a,{style:Se.container5},i.a.createElement(M.a,null,"\uccad\uacb0\ub3c4"),i.a.createElement(I.a,{style:Se.container6},i.a.createElement(I.a,{style:{width:"50%",borderWidth:2,borderColor:"#0F7652",backgroundColor:"#0F7652",marginRight:10,borderRadius:20}}),i.a.createElement(M.a,{style:{fontWeight:"bold"}},"4.9"))),i.a.createElement(I.a,{style:Se.container5},i.a.createElement(M.a,null,"\uc704\uce58"),i.a.createElement(I.a,{style:Se.container6},i.a.createElement(I.a,{style:{width:"50%",borderWidth:2,borderColor:"#0F7652",backgroundColor:"#0F7652",marginRight:10,borderRadius:20}}),i.a.createElement(M.a,{style:{fontWeight:"bold"}},"4.8")))),null==d||null==(n=d.selectRoom)?void 0:n.reviews.slice(0,c).map((function(e){return i.a.createElement(Oe,{key:e.id,review:e})})))}L.a.create({});var Te=n(71),De=$.a.get("window"),We=De.height,Fe=(De.width,L.a.create({container1:{width:"100%",height:.1*We},container2:{width:"100%",height:"100%",fontSize:35,color:"#18A776"}}));function Pe(e){e.route,e.navigation;var t=Object(o.useContext)(v),n=m()(t,2),a=n[0],r=(n[1],Object(o.useState)("")),l=m()(r,2),c=l[0],s=l[1],u=Object(o.useState)(""),d=m()(u,2),h=d[0],g=d[1],f=le({variables:{id:parseInt(null==a?void 0:a.roomId)}}),p=f.data;if(f.loading)return i.a.createElement(I.a,null,i.a.createElement(C.a,{size:"large",color:"#0000ff"}));var y=Object(o.useCallback)((function(e){g(e)}),[h]),b=Object(o.useCallback)((function(){var e=fe.a.clone(h);s(e)}),[h]),E=Object(o.useMemo)((function(){var e,t=[];""!==c&&(t=fe.a.filter(null==p||null==(e=p.selectRoom)?void 0:e.reviews,(function(e){return fe.a.includes(e.review,c)})));return t}),[p,c]);return i.a.createElement(B.a,null,i.a.createElement(I.a,{style:Fe.container1},i.a.createElement(Te.a,{style:Fe.container2,placeholder:"\ud6c4\uae30\uac80\uc0c9",onChangeText:y,onEndEditing:b,onBlur:b})),i.a.createElement(I.a,{style:{marginTop:20}},E.map((function(e){return i.a.createElement(Oe,{key:e.id,review:e})}))))}var Le=function(e,t,n){return i.a.createElement(i.a.Fragment,null,i.a.createElement(e.Screen,{name:"Detail",component:me}),i.a.createElement(e.Screen,{name:"RoomDetail",component:ke,options:{headers:function(){return null}}}),i.a.createElement(e.Screen,{name:"Reviews",component:xe,options:{headerTitle:"",headerRight:function(){return function(e){var t=e.navigation;e.route;return i.a.createElement(de.a,{style:{marginRight:10},onPress:function(){return t.navigate("FindReviews")}},i.a.createElement(T.a,{name:"search1",size:20}))}({navigation:t,route:n})},headerLeft:function(){return function(e){var t=e.navigation;e.route;return i.a.createElement(de.a,{style:{marginLeft:10},onPress:function(){try{t.goBack()}catch(e){console.log("error",e)}}},i.a.createElement(T.a,{name:"arrowleft",size:20}))}({navigation:t,route:n})}}}),i.a.createElement(e.Screen,{name:"FindReviews",component:Pe,options:{headerTitle:""}}))},Me=n(31),$e=n.n(Me),Ae=n(689),Be=$.a.get("window"),qe=Be.width,Ne=Be.height;Ae(),Ae(),Ae(),Ae(),Ae(),Ae(),Ae(),Ae(),Ae(),Ae(),Ae(),Ae(),Ae(),Ae(),Ae(),Ae(),Ae(),Ae(),Ae(),Ae(),Ae(),Ae(),Ae(),Ae(),Ae();function Ue(){var e=w()(["\n        fragment me on Todo {\n          id\n          text\n          me\n        }\n      "]);return Ue=function(){return e},e}var Ye=L.a.create({container:{width:.85*qe,height:Ne/3,marginBottom:15},container2:{height:"80%"},image:{width:"100%",flex:1},DotComponent:{backgroundColor:"gray",borderRadius:30,width:5,height:5,marginLeft:5},ActiveDotComponent:{backgroundColor:"white",borderRadius:30,width:7,height:7,marginLeft:5},LikeContainer:{borderRadius:30,backgroundColor:"white",width:25,height:25,position:"absolute",right:5,top:5,zIndex:1,alignItems:"center",justifyContent:"center"},container3:{borderWidth:1,borderColor:"black",width:"20%",height:18,borderRadius:3,alignItems:"center",justifyContent:"center"},container4:{paddingTop:5},container5:{flexDirection:"row",marginTop:3},container6:{width:"30%",height:18,alignItems:"center",justifyContent:"center",marginLeft:5},container7:{width:"25%",height:18,alignItems:"center",justifyContent:"space-around",position:"absolute",right:0,flex:1,flexDirection:"row"}}),_e=function(e){var t,n=e.room,a=e.navigation,r=Object(o.useContext)(v),l=m()(r,2),c=(l[0],l[1],t={},Y.c(se,t)),u=m()(c,1)[0],d=(oe({variables:{skip:0,take:12}}).data,Object(Y.a)().readFragment({id:"1",fragment:z()(Ue())})),h=Object(o.useMemo)((function(){var e,t,a=!1,r=fe.a.map(null==n?void 0:n.likeUsers,(function(e){return e.user}));return(fe.a.some(r,{id:null==d||null==(e=d.me)?void 0:e.id})||fe.a.some(r,{id:""+(null==d||null==(t=d.me)?void 0:t.id)}))&&(a=!0),a}),[n]),g=Object(o.useState)(!1),f=m()(g,2),p=f[0],y=f[1],b=Object(o.useMemo)((function(){return i.a.createElement(I.a,{style:Ye.DotComponent})}),[]),E=Object(o.useMemo)((function(){return i.a.createElement(I.a,{style:Ye.ActiveDotComponent})}),[]),j=Object(o.useCallback)((function(){var e;return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:y(!p),u({variables:{roomId:parseInt(null==n?void 0:n.id),userId:parseInt(null==d||null==(e=d.me)?void 0:e.id)},update:function(e){},refetchQueries:[{query:re,variables:{skip:0,take:12}}]});case 2:case"end":return t.stop()}}))}),[n,p]),w=Object(o.useCallback)((function(e){a.navigate("RoomDetail",{id:e})}),[]);return Object(o.useEffect)((function(){y(h)}),[h]),i.a.createElement(de.a,{style:Ye.container,onPress:function(){return w(n.id)}},i.a.createElement(de.a,{style:Ye.LikeContainer,onPress:j},p?i.a.createElement(W.a,{name:"md-heart",size:20,color:"red"}):i.a.createElement(W.a,{name:"md-heart-empty",size:20,color:"black"})),i.a.createElement(I.a,{style:Ye.container2},i.a.createElement(N.a,{controlsProps:{prevTitle:"",nextTitle:"",DotComponent:function(e){e.index;var t=e.isActive;e.onPress;return t?E:b}}},null==n?void 0:n.photoConnection.map((function(e,t){var a;return i.a.createElement(A.a,{key:t,resizeMode:"stretch",style:Ye.image,source:{uri:null==n||null==(a=n.photoConnection[t])?void 0:a.file}})})))),i.a.createElement(I.a,{style:Ye.container4},i.a.createElement(I.a,{style:Ye.container5},i.a.createElement(I.a,{style:Ye.container3},i.a.createElement(M.a,{style:{fontSize:10,fontWeight:"bold"}},"\uc288\ud37c \ud638\uc2a4\ud2b8")),i.a.createElement(I.a,{style:Ye.container6},i.a.createElement(M.a,{style:{fontSize:14,color:"gray",fontWeight:"bold"}},null==n?void 0:n.name)),i.a.createElement(I.a,{style:Ye.container7},i.a.createElement(W.a,{name:"md-star",size:10,color:"red"}),i.a.createElement(M.a,{style:{fontSize:10}},""+(null==n?void 0:n.score)),i.a.createElement(M.a,{style:{fontSize:10,color:"gray"}},"("+Math.floor((null==n?void 0:n.price)/1e4)+")"))),i.a.createElement(I.a,{style:Ye.container5},i.a.createElement(M.a,{style:{fontSize:15}},null==n?void 0:n.description))))},Je=L.a.create({container:{alignItems:"center",paddingTop:20}});function Ge(e){var t,n=e.navigation,a=oe({variables:{skip:0,take:12},notifyOnNetworkStatusChange:!0}),r=a.data,l=a.loading,c=a.fetchMore;a.networkStatus,a.refetch;Object(o.useEffect)((function(){if("Android"!==O.a)return window.addEventListener("scroll",s),function(){window.removeEventListener("scroll",s)}}),[null==r?void 0:r.selectRooms]);var s=Object(o.useCallback)((function(){c({variables:{skip:0,take:(null==r?void 0:r.selectRooms.length)+4},updateQuery:function(e,t){var n=t.fetchMoreResult;return n?{__typename:"Room",selectRooms:$e()(n.selectRooms)}:e}})}),[null==r?void 0:r.selectRooms]);return i.a.createElement(B.a,{onScroll:function(e){(function(e){var t=e.layoutMeasurement,n=e.contentOffset,a=e.contentSize;return t.height+n.y>=a.height-20})(e.nativeEvent)&&s()},scrollEventThrottle:100},i.a.createElement(I.a,{style:Je.container},null==r||null==(t=r.selectRooms)?void 0:t.map((function(e){return i.a.createElement(_e,{key:e.id,room:e,navigation:n})})),l&&i.a.createElement(I.a,null,i.a.createElement(C.a,{size:"large",color:"#0000ff"}))))}var Qe=Object(F.a)(),He=function(e){var t=e.navigation,n=e.route;return n.state&&n.state.index>0&&t.setOptions({tabBarVisible:!1}),i.a.createElement(Qe.Navigator,{screenOptions:{cardStyleInterpolator:P.a.forRevealFromBottomAndroid},initialRouteName:"Home"},Le(Qe,t,n),i.a.createElement(Qe.Screen,{name:"Home",component:Ge,options:{}}))},Ve=Object(F.a)();function Xe(e){e.navigation;var t=Object(o.useState)(!1),n=m()(t,2);n[0],n[1];return i.a.createElement(I.a,null,i.a.createElement(M.a,null,"Search"))}var Ze=function(e){return r()(e),i.a.createElement(Ve.Navigator,{initialRouteName:"Search"},i.a.createElement(Ve.Screen,{name:"Search",component:Xe}))},Ke=Object(x.a)(),et=function(e){return r()(e),i.a.createElement(Ke.Navigator,{screenOptions:function(e){var t=e.route;return{tabBarIcon:function(e){e.focused;var n,a=e.color,r=e.size;return"Home"===t.name?(n="home",i.a.createElement(T.a,{name:"home",size:r,color:a})):"Search"===t.name?i.a.createElement(D.a,{name:"search",size:r,color:a}):i.a.createElement(W.a,{name:n,size:r,color:a})}}},tabBarOptions:{activeTintColor:"tomato",inactiveTintColor:"gray"}},i.a.createElement(Ke.Screen,{name:"Home",component:He}),i.a.createElement(Ke.Screen,{name:"Search",component:Ze}))};n(133),Object(F.a)();function tt(){var e=w()(["\n                    fragment me on Me {\n                      me\n                    }\n                  "]);return tt=function(){return e},e}var nt=function(e){r()(e);var t=Object(Y.a)(),n=Object(o.useState)(!1),a=m()(n,2),l=a[0];a[1];return Object(o.useEffect)((function(){"Android"!==O.a&&t.writeFragment({id:"1",fragment:z()(tt()),data:{me:{id:1,name:"Groopster",email:"Groopster@hanmail.net"},__typename:"me"}})}),[]),l?i.a.createElement(S,null,i.a.createElement(C.a,{size:"large"})):i.a.createElement(k.a,null,i.a.createElement(et,null))},at=n(109),rt=n(485),ot=n(486),it=n(477),lt=n(45),ct=n(49),st=n(487),ut=n(476);function mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mt(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ht=new rt.a({}),gt=new lt.a((function(e,t){return new ct.a((function(n){var a;return Promise.resolve(e).then((function(e){})).then((function(){a=t(e).subscribe({next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)})})).catch(n.error.bind(n)),function(){a&&a.unsubscribe()}}))})),ft=Object(ut.a)((function(e,t){var n="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTU4MjE4MTE0OCwiZXhwIjoxNTgzOTA5MTQ4fQ.BP14nc4IbJmtPgIu39pnGSjtzgId2WqRhtZtKDX7b-E";return{headers:dt({},t.headers,{authorization:"bearer "+n})}})),pt=new at.a({link:lt.a.from([new st.a({accessTokenField:"accessToken",isTokenValidOrUndefined:function(){return!0},fetchAccessToken:function(){return fetch("https://jahunbnb-api.herokuapp.com/refresh_token",{method:"POST",credentials:"include"})},handleFetch:function(e){},handleError:function(e){console.warn("Your refresh token is invalid. Try to relogin"),console.error(e)}}),Object(it.a)((function(e){var t=e.graphQLErrors,n=e.networkError;console.log(t),console.log(n)})),ft,gt,new ot.a({uri:"https://jahunbnb-api.herokuapp.com/graphql",credentials:"include"})]),cache:ht});t.a=function(e){return r()(e),i.a.createElement(l.a,{client:pt},i.a.createElement(E,null,i.a.createElement(nt,null)))}},551:function(e,t,n){n(552),e.exports=n(709)},552:function(e,t){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/expo-service-worker.js",{scope:"/"}).then((function(e){})).catch((function(e){console.info("Failed to register service-worker",e)}))}))},688:function(e,t,n){var a={"./af":276,"./af.js":276,"./ar":277,"./ar-dz":278,"./ar-dz.js":278,"./ar-kw":279,"./ar-kw.js":279,"./ar-ly":280,"./ar-ly.js":280,"./ar-ma":281,"./ar-ma.js":281,"./ar-sa":282,"./ar-sa.js":282,"./ar-tn":283,"./ar-tn.js":283,"./ar.js":277,"./az":284,"./az.js":284,"./be":285,"./be.js":285,"./bg":286,"./bg.js":286,"./bm":287,"./bm.js":287,"./bn":288,"./bn.js":288,"./bo":289,"./bo.js":289,"./br":290,"./br.js":290,"./bs":291,"./bs.js":291,"./ca":292,"./ca.js":292,"./cs":293,"./cs.js":293,"./cv":294,"./cv.js":294,"./cy":295,"./cy.js":295,"./da":296,"./da.js":296,"./de":297,"./de-at":298,"./de-at.js":298,"./de-ch":299,"./de-ch.js":299,"./de.js":297,"./dv":300,"./dv.js":300,"./el":301,"./el.js":301,"./en-SG":302,"./en-SG.js":302,"./en-au":303,"./en-au.js":303,"./en-ca":304,"./en-ca.js":304,"./en-gb":305,"./en-gb.js":305,"./en-ie":306,"./en-ie.js":306,"./en-il":307,"./en-il.js":307,"./en-nz":308,"./en-nz.js":308,"./eo":309,"./eo.js":309,"./es":310,"./es-do":311,"./es-do.js":311,"./es-us":312,"./es-us.js":312,"./es.js":310,"./et":313,"./et.js":313,"./eu":314,"./eu.js":314,"./fa":315,"./fa.js":315,"./fi":316,"./fi.js":316,"./fo":317,"./fo.js":317,"./fr":318,"./fr-ca":319,"./fr-ca.js":319,"./fr-ch":320,"./fr-ch.js":320,"./fr.js":318,"./fy":321,"./fy.js":321,"./ga":322,"./ga.js":322,"./gd":323,"./gd.js":323,"./gl":324,"./gl.js":324,"./gom-latn":325,"./gom-latn.js":325,"./gu":326,"./gu.js":326,"./he":327,"./he.js":327,"./hi":328,"./hi.js":328,"./hr":329,"./hr.js":329,"./hu":330,"./hu.js":330,"./hy-am":331,"./hy-am.js":331,"./id":332,"./id.js":332,"./is":333,"./is.js":333,"./it":334,"./it-ch":335,"./it-ch.js":335,"./it.js":334,"./ja":336,"./ja.js":336,"./jv":337,"./jv.js":337,"./ka":338,"./ka.js":338,"./kk":339,"./kk.js":339,"./km":340,"./km.js":340,"./kn":341,"./kn.js":341,"./ko":342,"./ko.js":342,"./ku":343,"./ku.js":343,"./ky":344,"./ky.js":344,"./lb":345,"./lb.js":345,"./lo":346,"./lo.js":346,"./lt":347,"./lt.js":347,"./lv":348,"./lv.js":348,"./me":349,"./me.js":349,"./mi":350,"./mi.js":350,"./mk":351,"./mk.js":351,"./ml":352,"./ml.js":352,"./mn":353,"./mn.js":353,"./mr":354,"./mr.js":354,"./ms":355,"./ms-my":356,"./ms-my.js":356,"./ms.js":355,"./mt":357,"./mt.js":357,"./my":358,"./my.js":358,"./nb":359,"./nb.js":359,"./ne":360,"./ne.js":360,"./nl":361,"./nl-be":362,"./nl-be.js":362,"./nl.js":361,"./nn":363,"./nn.js":363,"./pa-in":364,"./pa-in.js":364,"./pl":365,"./pl.js":365,"./pt":366,"./pt-br":367,"./pt-br.js":367,"./pt.js":366,"./ro":368,"./ro.js":368,"./ru":369,"./ru.js":369,"./sd":370,"./sd.js":370,"./se":371,"./se.js":371,"./si":372,"./si.js":372,"./sk":373,"./sk.js":373,"./sl":374,"./sl.js":374,"./sq":375,"./sq.js":375,"./sr":376,"./sr-cyrl":377,"./sr-cyrl.js":377,"./sr.js":376,"./ss":378,"./ss.js":378,"./sv":379,"./sv.js":379,"./sw":380,"./sw.js":380,"./ta":381,"./ta.js":381,"./te":382,"./te.js":382,"./tet":383,"./tet.js":383,"./tg":384,"./tg.js":384,"./th":385,"./th.js":385,"./tl-ph":386,"./tl-ph.js":386,"./tlh":387,"./tlh.js":387,"./tr":388,"./tr.js":388,"./tzl":389,"./tzl.js":389,"./tzm":390,"./tzm-latn":391,"./tzm-latn.js":391,"./tzm.js":390,"./ug-cn":392,"./ug-cn.js":392,"./uk":393,"./uk.js":393,"./ur":394,"./ur.js":394,"./uz":395,"./uz-latn":396,"./uz-latn.js":396,"./uz.js":395,"./vi":397,"./vi.js":397,"./x-pseudo":398,"./x-pseudo.js":398,"./yo":399,"./yo.js":399,"./zh-cn":400,"./zh-cn.js":400,"./zh-hk":401,"./zh-hk.js":401,"./zh-tw":402,"./zh-tw.js":402};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=688}},[[551,1,2]]]);
//# sourceMappingURL=../../9053a12259060cb3d103.map